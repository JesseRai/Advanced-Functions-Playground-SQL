CREATE OR REPLACE FUNCTION customer_total_payments (c_id INT)
	RETURNS DECIMAL(10,2)
	LANGUAGE plpgsql
AS
$$
DECLARE customer_sum NUMERIC(10,2);
BEGIN
SELECT COALESCE(SUM(amount), 0)
INTO customer_sum
FROM payment
WHERE customer_id = c_id;
RETURN customer_sum;
END;
$$

SELECT customer_total_payments(2)
